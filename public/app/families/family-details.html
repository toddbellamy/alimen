<div class="container"><div style="z-index: 900" class="navbar navbar-form navbar-collapse"><div class="container-fluid"><div class="navbar-header"><button data-toggle="collapse" data-target="#secondary-navbar" class="navbar-toggle collapsed"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><div class="navbar-brand">Family</div></div><div id="secondary-navbar" class="collapse navbar-collapse"><ul class="nav navbar-nav pull-left"><li><a ng-click="new()" class="btn btn-md">New</a></li><li><a href="/visits/{{family._id}}" class="btn btn-md">Visits</a></li></ul></div></div></div><div class="well well-sm"><form name="familyForm" class="form-horizontal"><fieldset><div class="form-group"><label for="primaryClient" class="col-sm-2 control-label">Primary Contact</label><div class="col-sm-10"><select name="primaryClient" ng-model="family.primaryClient" ng-options="client.lastName + ', ' + client.firstName  for client in family.clients track by client._id" required="required" invalid-leave="invalid-leave" class="form-control"></select><span ng-show="familyForm.primaryClient.$touched &amp;&amp; familyForm.primaryClient.$error.required" class="error">Please provide a Primary Contact.</span></div></div><div class="form-group"><label class="col-sm-2 control-label"></label><div class="col-sm-10"><button ng-click="addContact()" class="btn btn-sm">Add Contact</button></div></div><div class="form-group"><label ng-click="toggleContacts()" class="col-sm-2 control-label">Contacts<span ng-class="showContactsTriangle" class="glyphicon showhide-triangle"></span></label><div class="col-sm-10"><span ng-show="!showContacts" ng-click="toggleContacts()" class="glyphicon glyphicon-option-horizontal low"></span><table ng-show="showContacts" class="table table-condensed animate-show"><thead><tr><th>Last Name</th><th>First Name</th><th>Date of Birth</th></tr></thead><tbody><tr ng-repeat="client in family.clients"><td><input name="clientLastName" ng-model="client.lastName" required="required" invalid-leave="invalid-leave" class="form-control"/></td><td><input name="clientFirstName" ng-model="client.firstName" required="required" invalid-leave="invalid-leave" class="form-control"/></td><td><input name="clientDateOfBirth" type="date" ng-model="client.dateOfBirth" date-of-birth="" required="required" invalid-leave="invalid-leave" class="form-control"/></td><td style="border:none"><button ng-click="removeContact(client)" ng-show="client._id == 0" class="btn btn-xs"><span class="glyphicon glyphicon-remove"></span></button></td></tr></tbody><tfoot><tr><td><span ng-show="familyForm.clientLastName.$touched &amp;&amp; familyForm.clientLastName.$error.required" class="error">Please enter a Last Name</span></td><td><span ng-show="familyForm.clientFirstName.$touched &amp;&amp; familyForm.clientFirstName.$error.required" class="error">Please enter a First Name.</span></td><td><span ng-show="familyForm.clientDateOfBirth.$touched &amp;&amp; familyForm.clientDateOfBirth.$error.required" class="error">Please enter a Date Of Birth.</span><span ng-show="familyForm.clientDateOfBirth.$error.dob" class="error">Date of Birth must be within past 120 years.</span></td></tr></tfoot></table></div></div><div class="form-group"><label for="dateAdded" class="col-sm-2 control-label">Date Added</label><div class="col-sm-4"><input name="dateAdded" type="date" placeholder="Date Added" ng-model="family.dateAdded" readonly="readonly" class="form-control"/></div><label for="familyStatus" class="col-sm-2 control-label">Family Status</label><div class="col-sm-4"><select name="familyStatus" ng-model="family.familyStatus" class="form-control"><option ng-repeat="status in familyStatuses" ng-selected="Family">{{status}}</option></select></div></div><div class="form-group"><label for="address1" class="col-sm-2 control-label">Address 1</label><div class="col-sm-4"><input name="address1" type="text" placeholder="Address Line 1" ng-model="family.address1" required="required" invalid-leave="invalid-leave" class="form-control"/><span ng-show="familyForm.address1.$touched &amp;&amp; familyForm.address1.$error.required" class="error">Please enter Address Line 1.</span></div><label for="address2" class="col-sm-2 control-label">Address 2</label><div class="col-sm-4"><input name="address2" type="text" placeholder="Address Line 2" ng-model="family.address2" class="form-control"/></div></div><div class="form-group"><label for="city" class="col-sm-2 control-label">City</label><div class="col-sm-4"><input name="city" type="text" placeholder="City" ng-model="family.city" required="required" invalid-leave="invalid-leave" class="form-control"/><span ng-show="familyForm.city.$touched &amp;&amp; familyForm.city.$error.required" class="error">Please enter City.</span></div><label for="province" class="col-sm-2 control-label">Province</label><div class="col-sm-4"><select name="province" ng-model="family.province" ng-options="prov for prov in provinceCodes" class="form-control"></select></div></div><div class="form-group"><label for="postal" class="col-sm-2 control-label">Postal Code</label><div class="col-sm-4"><input name="postal" type="text" ng-model="family.postal" ui-mask="A9A 9A9" required="required" invalid-leave="invalid-leave" class="form-control"/><span ng-show="familyForm.postal.$touched &amp;&amp; (familyForm.postal.$error.required || familyForm.postal.$error.pattern)" class="error">Please enter a valid Postal Code.</span></div><label for="phone1" class="col-sm-2 control-label">Phone Number</label><div class="col-sm-4"><input name="phone1" type="text" ng-model="family.phone1" ui-mask="(999) 999-9999" required="required" invalid-leave="invalid-leave" class="form-control"/><span ng-show="familyForm.phone1.$touched &amp;&amp; (familyForm.phone1.$error.required || familyForm.phone1.$error.pattern)" class="error">Please enter a valid phone number (999) 999-9999).</span></div></div><div class="form-group"><label for="totalMonthlyExpenses" class="col-sm-2 control-label">Monthly Expenses</label><div class="col-sm-4"><input name="totalMonthlyExpenses" type="text" placeholder="Total Monthly Expenses" ng-model="family.totalMonthlyExpenses" smart-float="smart-float" required="required" invalid-leave="invalid-leave" class="form-control"/><span ng-show="familyForm.totalMonthlyExpenses.$touched &amp;&amp; (familyForm.totalMonthlyExpenses.$error.required || familyForm.totalMonthlyExpenses.$error.float)" class="error">Please enter valid Total Monthly Expenses.</span></div><label for="totalMonthlyIncome" class="col-sm-2 control-label">Monthly Income</label><div class="col-sm-4"><input name="totalMonthlyIncome" type="text" placeholder="Total Monthly Income" ng-model="family.totalMonthlyIncome" smart-float="smart-float" required="required" invalid-leave="invalid-leave" class="form-control"/><span ng-show="familyForm.totalMonthlyIncome.$touched &amp;&amp; (familyForm.totalMonthlyIncome.$error.required || familyForm.totalMonthlyIncome.$error.float)" class="error">Please enter valid Total Monthly Income.</span></div></div><div class="form-group-md"><div class="col-md-4 col-md-offset-1"><div class="checkbox"><label><input type="checkbox" name="proofOfIncomeProvided" ng-model="family.proofOfIncomeProvided" class="input-sm"/>Proof of Income Provided</label></div></div><div class="col-md-4"><div class="checkbox"><label><input type="checkbox" name="proofOfExpensesProvided" ng-model="family.proofOfExpensesProvided" class="input-sm"/>Proof of Expenses Provided</label></div></div><div class="col-md-3"><div class="checkbox"><label><input type="checkbox" name="proofOfAddressProvided" ng-model="family.proofOfAddressProvided" class="input-sm"/>Proof of Address Provided</label></div></div></div><div class="form-group"></div><div class="form-group"><label for="registeredDate" class="col-sm-2 control-label">Registered Date</label><div class="col-sm-4"><div class="input-group"><input name="registeredDate" type="date" placeholder="Registered Date" ng-model="family.registeredDate" readonly="readonly" class="form-control"/><span ng-really-message="Set Registration Date?" ng-really-click="registerFamily()" title="Register Family" class="btn input-group-addon"><span class="glyphicon glyphicon-pencil"></span></span></div></div><div class="col-sm-4"></div></div><div class="form-group"><div class="col-sm-6 col-sm-offset-2"><button ng-click="new()" ng-disabled="canCancel()" class="btn btn-primary">New</button></div><div class="col-sm-4"><div class="pull-right"><button ng-click="save()" ng-disabled="!canSave()" class="btn btn-primary">Submit</button>&nbsp;<button ng-click="cancel()" ng-disabled="!canCancel()" class="btn btn-default">Cancel</button></div></div></div></fieldset></form></div></div>